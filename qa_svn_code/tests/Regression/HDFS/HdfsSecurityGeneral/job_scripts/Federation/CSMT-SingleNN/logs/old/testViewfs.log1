20
testViewfs.sh - Test the use of viewfs in URI and in config file
test various combintions of URI, config
--config: ds.default to be hdfs://gwbl90772.blue.ygrid  vs viewfs:/// 
--config set ds.default to be non-final, so that it can over-ridden by -conf
dfs -conf: my-viewfs-scheme-only.xml vs my-hdfs-scheme-only.xml
URI: /nn2/file1, //nn2, ///nn2 - these are viewfs:
URI: hdfs:/nn2 and hdfs:/nn4 does not exist. They are mount points 
///nn2 is mounted to /tmp/nn2
hdfs config, then viewfs config for /nn2/file1; then hdfs, viewfs config for tmp
/grid/0/gs/gridre/yroot.omegab/share/hadoop-current/bin/hadoop
Hadoop 000.00.00.000.000.00.00.000
Subversion git://hadoopre4.corp.sk1.yahoo.com/ on branch (no branch) -r bfd04219feaa000.00.00.000e000.00.00.000af728ac040
Compiled by hadoopqa on ddd mmm 000.00.00.000 UTC 2010
CLUSTER=omegab
HADOOP_HOME=/grid/0/gs/gridre/yroot.omegab/share/hadoop-current

Test Group 01-10: using hdfs as default, try to access /tmp/nn2/file1. /, ///, //gsbl90772, hdfs:/, hdfs:///, hdfs://gsbl90772 should work. All other fail
Test Group 21-30: using viewfs as default, try to access /tmp/nn2/file1. All should fail, except #16 hdfs://gsbl90772/tmp/nn2/file1
Test Group 41-50: using hdfs as default, try to access /nn2/file1. All should fail, except #27, #28 using viewfs:
Test Group 61-70: using viewfs as default, try to access /nn2/file1. /nn2, ///nn2, viewfs:/nn2, viewfs:///nn2 should work. Other should fail.
Test Group 81-90:  using viewfs as default, but use hdfs override. Should have the same behavior as in case 01-10
There does not seem to have a way to set up such that one cannotaccess both /nn2/file1 and /tmp/nn2/file1 without some sort of hdfs:/ or viewfs:/ in front of it
Deleted hdfs://gsbl00000.blue.ygrid.yahoo.com/tmp/nn2.mt
rmr: cannot remove /tmp/nn2: No such file or directory.
Deleted hdfs://gsbl00000.blue.ygrid.yahoo.com/tmp/nn4.mt
rmr: cannot remove /tmp/nn4: No such file or directory.
###########################################
## [POS_01] CMD 1 is:  hadoop  --config v20_hdfs_hadoopconf_omegab  dfs -ls /tmp/nn2.mt/file1  
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /tmp/nn2.mt/file1
[exec - POS test] [Pass] [POS_01] Cmd 1 is:  hadoop  --config v20_hdfs_hadoopconf_omegab  dfs -ls /tmp/nn2.mt/file1 
 
###########################################
## [POS_02] CMD 2 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls ///tmp/nn2.mt/file1 
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /tmp/nn2.mt/file1
[exec - POS test] [Pass] [POS_02] Cmd 2 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls ///tmp/nn2.mt/file1
 
###########################################
## [POS_03] CMD 3 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls //gsbl00000.blue.ygrid/tmp/nn2.mt/file1 
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /tmp/nn2.mt/file1
[exec - POS test] [Pass] [POS_03] Cmd 3 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls //gsbl00000.blue.ygrid/tmp/nn2.mt/file1
 
###########################################
## [POS_04] CMD 4 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls hdfs:/tmp/nn2.mt/file1 
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /tmp/nn2.mt/file1
[exec - POS test] [Pass] [POS_04] Cmd 4 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls hdfs:/tmp/nn2.mt/file1
 
###########################################
## [POS_05] CMD 5 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls hdfs:///tmp/nn2.mt/file1  
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /tmp/nn2.mt/file1
[exec - POS test] [Pass] [POS_05] Cmd 5 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls hdfs:///tmp/nn2.mt/file1 
 
###########################################
## [POS_06] CMD 6 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls hdfs://gsbl00000.blue.ygrid/tmp/nn2.mt/file1  
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /tmp/nn2.mt/file1
[exec - POS test] [Pass] [POS_06] Cmd 6 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls hdfs://gsbl00000.blue.ygrid/tmp/nn2.mt/file1 
 
###########################################
## [NEG_07] CMD 7 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls viewfs:/tmp/nn2.mt/file1 
ls: No FileSystem for scheme: viewfs
[exec - NEG test] [Pass] [NEG_07] Cmd 7 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls viewfs:/tmp/nn2.mt/file1
 
###########################################
## [NEG_08] CMD 8 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls viewfs:///tmp/nn2.mt/file1 
ls: No FileSystem for scheme: viewfs
[exec - NEG test] [Pass] [NEG_08] Cmd 8 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls viewfs:///tmp/nn2.mt/file1
 
###########################################
## [NEG_09] CMD 9 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls viewfs://gsbl00000.blue.ygrid/tmp/nn2.mt/file1 
ls: No FileSystem for scheme: viewfs
[exec - NEG test] [Pass] [NEG_09] Cmd 9 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls viewfs://gsbl00000.blue.ygrid/tmp/nn2.mt/file1
 
###########################################
## [NEG_10] CMD 10 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls //tmp/nn2.mt/file1 
ls: Cannot access //tmp/nn2.mt/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_10] Cmd 10 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls //tmp/nn2.mt/file1
 
###########################################
## [NEG_11] CMD 11 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls hdfs://default/tmp/nn2.mt/file1 
ls: null
[exec - NEG test] [Pass] [NEG_11] Cmd 11 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls hdfs://default/tmp/nn2.mt/file1
 
###########################################
## [POS_12] CMD 12 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls //default/tmp/nn2.mt/file1 
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /tmp/nn2.mt/file1
[exec - POS test] [Pass] [POS_12] Cmd 12 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls //default/tmp/nn2.mt/file1
 
###########################################
## [NEG_13] CMD 13 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls vewfs://default/tmp/nn2.mt/dir1 
ls: No FileSystem for scheme: vewfs
[exec - NEG test] [Pass] [NEG_13] Cmd 13 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls vewfs://default/tmp/nn2.mt/dir1
 
###########################################
## [NEG_14] CMD 14 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls //qatest/tmp/nn4.mt/file1 
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /tmp/nn4.mt/file1
[exec - NEG test] [FAIL] [NEG_14] Cmd 14 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls //qatest/tmp/nn4.mt/file1
 
###########################################
## [NEG_15] CMD 15 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls viewfs://qatest/tmp/nn4.mt/dir1 
ls: No FileSystem for scheme: viewfs
[exec - NEG test] [Pass] [NEG_15] Cmd 15 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls viewfs://qatest/tmp/nn4.mt/dir1
 
###########################################
## [NEG_16] CMD 16 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls /nn4.mt/dir1 
ls: Cannot access /nn4.mt/dir1: No such file or directory.
[exec - NEG test] [Pass] [NEG_16] Cmd 16 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls /nn4.mt/dir1
 
###########################################
## [NEG_21] CMD 17 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls /tmp/nn2.mt/file1  
ls: Cannot access /tmp/nn2.mt/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_21] Cmd 17 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls /tmp/nn2.mt/file1 
 
###########################################
## [NEG_22] CMD 18 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls ///tmp/nn2.mt/file1 
ls: Cannot access ///tmp/nn2.mt/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_22] Cmd 18 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls ///tmp/nn2.mt/file1
 
###########################################
## [NEG_23] CMD 19 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls //gsbl00000.blue.ygrid/tmp/nn2.mt/file1 
ls: Cannot access //gsbl00000.blue.ygrid/tmp/nn2.mt/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_23] Cmd 19 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls //gsbl00000.blue.ygrid/tmp/nn2.mt/file1
 
###########################################
## [NEG_24] CMD 20 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs:/tmp/nn2.mt/file1 
ls: Incomplete HDFS URI, no host: hdfs:/tmp/nn2.mt/file1
[exec - NEG test] [Pass] [NEG_24] Cmd 20 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs:/tmp/nn2.mt/file1
 
###########################################
## [NEG_25] CMD 21 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs:///tmp/nn2.mt/file1  
ls: Incomplete HDFS URI, no host: hdfs:///tmp/nn2.mt/file1
[exec - NEG test] [Pass] [NEG_25] Cmd 21 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs:///tmp/nn2.mt/file1 
 
###########################################
## [POS_26] CMD 22 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs://gsbl00000.blue.ygrid/tmp/nn2.mt/file1  
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /tmp/nn2.mt/file1
[exec - POS test] [Pass] [POS_26] Cmd 22 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs://gsbl00000.blue.ygrid/tmp/nn2.mt/file1 
 
###########################################
## [NEG_27] CMD 23 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls viewfs:/tmp/nn2.mt/file1 
ls: Cannot access viewfs:/tmp/nn2.mt/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_27] Cmd 23 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls viewfs:/tmp/nn2.mt/file1
 
###########################################
## [NEG_28] CMD 24 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls viewfs:///tmp/nn2.mt/file1 
ls: Cannot access viewfs:///tmp/nn2.mt/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_28] Cmd 24 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls viewfs:///tmp/nn2.mt/file1
 
###########################################
## [NEG_29] CMD 25 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls viewfs://gsbl00000.blue.ygrid/tmp/nn2.mt/file1 
ls: ViewFs: Cannot initialize: Empty Mount table in config
[exec - NEG test] [Pass] [NEG_29] Cmd 25 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls viewfs://gsbl00000.blue.ygrid/tmp/nn2.mt/file1
 
###########################################
## [NEG_30] CMD 26 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls //tmp/nn2.mt/file1 
ls: Cannot access //tmp/nn2.mt/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_30] Cmd 26 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls //tmp/nn2.mt/file1
 
###########################################
## [NEG_31] CMD 27 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls //default/tmp/nn2.mt/file1 
ls: Cannot access //default/tmp/nn2.mt/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_31] Cmd 27 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls //default/tmp/nn2.mt/file1
 
###########################################
## [NEG_32] CMD 28 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs://default/tmp/nn2.mt/file1 
ls: null
[exec - NEG test] [Pass] [NEG_32] Cmd 28 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs://default/tmp/nn2.mt/file1
 
###########################################
## [NEG_33] CMD 29 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls vewfs://default/tmp/nn2.mt/dir1 
ls: No FileSystem for scheme: vewfs
[exec - NEG test] [Pass] [NEG_33] Cmd 29 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls vewfs://default/tmp/nn2.mt/dir1
 
###########################################
## [NEG_34] CMD 30 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls //qatest/tmp/nn4.mt/file1 
ls: Cannot access //qatest/tmp/nn4.mt/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_34] Cmd 30 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls //qatest/tmp/nn4.mt/file1
 
###########################################
## [NEG_35] CMD 31 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs://qatest/tmp/nn4.mt/dir1 
ls: null
[exec - NEG test] [Pass] [NEG_35] Cmd 31 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs://qatest/tmp/nn4.mt/dir1
 
###########################################
## [NEG_36] CMD 32 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls vewfs://qatest/tmp/nn4.mt/dir1 
ls: No FileSystem for scheme: vewfs
[exec - NEG test] [Pass] [NEG_36] Cmd 32 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls vewfs://qatest/tmp/nn4.mt/dir1
 
###########################################
## [NEG_37] CMD 33 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls /nn4.mt/dir1 
ls: Cannot access /nn4.mt/dir1: No such file or directory.
[exec - NEG test] [Pass] [NEG_37] Cmd 33 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls /nn4.mt/dir1
 
###########################################
## [NEG_41] CMD 34 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls /nn2/file1  
ls: Cannot access /nn2/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_41] Cmd 34 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls /nn2/file1 
 
###########################################
## [NEG_42] CMD 35 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls ///nn2/file1 
ls: Cannot access ///nn2/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_42] Cmd 35 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls ///nn2/file1
 
###########################################
## [NEG_43] CMD 36 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls //gsbl00000.blue.ygrid/nn2/file1 
ls: Cannot access //gsbl00000.blue.ygrid/nn2/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_43] Cmd 36 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls //gsbl00000.blue.ygrid/nn2/file1
 
###########################################
## [NEG_44] CMD 37 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls hdfs:/nn2/file1 
ls: Cannot access hdfs:/nn2/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_44] Cmd 37 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls hdfs:/nn2/file1
 
###########################################
## [NEG_45] CMD 38 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls hdfs:///nn2/file1  
ls: Cannot access hdfs:///nn2/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_45] Cmd 38 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls hdfs:///nn2/file1 
 
###########################################
## [NEG_46] CMD 39 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls hdfs://gsbl00000.blue.ygrid/nn2/file1  
ls: Cannot access hdfs://gsbl00000.blue.ygrid/nn2/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_46] Cmd 39 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls hdfs://gsbl00000.blue.ygrid/nn2/file1 
 
###########################################
## [NEG_47] CMD 40 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls viewfs:/nn2/file1 
ls: No FileSystem for scheme: viewfs
[exec - NEG test] [Pass] [NEG_47] Cmd 40 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls viewfs:/nn2/file1
 
###########################################
## [NEG_48] CMD 41 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls viewfs:///nn2/file1 
ls: No FileSystem for scheme: viewfs
[exec - NEG test] [Pass] [NEG_48] Cmd 41 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls viewfs:///nn2/file1
 
###########################################
## [NEG_49] CMD 42 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls viewfs://gsbl00000.blue.ygrid/nn2/file1 
ls: No FileSystem for scheme: viewfs
[exec - NEG test] [Pass] [NEG_49] Cmd 42 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls viewfs://gsbl00000.blue.ygrid/nn2/file1
 
###########################################
## [NEG_50] CMD 43 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls //nn2/file1 
ls: Cannot access //nn2/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_50] Cmd 43 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls //nn2/file1
 
###########################################
## [NEG_51] CMD 44 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls //default/nn2/file1 
ls: Cannot access //default/nn2/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_51] Cmd 44 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls //default/nn2/file1
 
###########################################
## [NEG_52] CMD 45 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls hdfs://default/nn2/file1 
ls: null
[exec - NEG test] [Pass] [NEG_52] Cmd 45 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls hdfs://default/nn2/file1
 
###########################################
## [NEG_53] CMD 46 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls viewfs://default/nn2/dir1 
ls: No FileSystem for scheme: viewfs
[exec - NEG test] [Pass] [NEG_53] Cmd 46 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls viewfs://default/nn2/dir1
 
###########################################
## [NEG_54] CMD 47 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls //qatest/nn4/file1 
ls: Cannot access //qatest/nn4/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_54] Cmd 47 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls //qatest/nn4/file1
 
###########################################
## [NEG_55] CMD 48 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls hdfs://qatest/nn4/dir1 
ls: null
[exec - NEG test] [Pass] [NEG_55] Cmd 48 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls hdfs://qatest/nn4/dir1
 
###########################################
## [NEG_56] CMD 49 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls viewfs://qatest/nn4/dir1 
ls: No FileSystem for scheme: viewfs
[exec - NEG test] [Pass] [NEG_56] Cmd 49 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls viewfs://qatest/nn4/dir1
 
###########################################
## [NEG_57] CMD 50 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls /nn4/dir1 
ls: Cannot access /nn4/dir1: No such file or directory.
[exec - NEG test] [Pass] [NEG_57] Cmd 50 is:  hadoop  --config v20_hdfs_hadoopconf_omegab/ dfs -ls /nn4/dir1
 
###########################################
## [POS_61] CMD 51 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls /nn2/file1  
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /nn2/file1
[exec - POS test] [Pass] [POS_61] Cmd 51 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls /nn2/file1 
 
###########################################
## [POS_62] CMD 52 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls ///nn2/file1 
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /nn2/file1
[exec - POS test] [Pass] [POS_62] Cmd 52 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls ///nn2/file1
 
###########################################
## [POS_63] CMD 53 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls //gsbl00000.blue.ygrid/nn2/file1 
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /nn2/file1
[exec - POS test] [Pass] [POS_63] Cmd 53 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls //gsbl00000.blue.ygrid/nn2/file1
 
###########################################
## [NEG_64] CMD 54 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs:/nn2/file1 
ls: Incomplete HDFS URI, no host: hdfs:/nn2/file1
[exec - NEG test] [Pass] [NEG_64] Cmd 54 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs:/nn2/file1
 
###########################################
## [NEG_65] CMD 55 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs:///nn2/file1  
ls: Incomplete HDFS URI, no host: hdfs:///nn2/file1
[exec - NEG test] [Pass] [NEG_65] Cmd 55 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs:///nn2/file1 
 
###########################################
## [NEG_66] CMD 56 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs://gsbl00000.blue.ygrid/nn2/file1  
ls: Cannot access hdfs://gsbl00000.blue.ygrid/nn2/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_66] Cmd 56 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs://gsbl00000.blue.ygrid/nn2/file1 
 
###########################################
## [POS_67] CMD 57 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls viewfs:/nn2/file1 
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /nn2/file1
[exec - POS test] [Pass] [POS_67] Cmd 57 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls viewfs:/nn2/file1
 
###########################################
## [POS_68] CMD 58 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls viewfs:///nn2/file1 
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /nn2/file1
[exec - POS test] [Pass] [POS_68] Cmd 58 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls viewfs:///nn2/file1
 
###########################################
## [NEG_69] CMD 59 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls viewfs://gsbl00000.blue.ygrid/nn2/file1 
ls: ViewFs: Cannot initialize: Empty Mount table in config
[exec - NEG test] [Pass] [NEG_69] Cmd 59 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls viewfs://gsbl00000.blue.ygrid/nn2/file1
 
###########################################
## [NEG_70] CMD 60 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls //nn2/file1 
ls: Cannot access //nn2/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_70] Cmd 60 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls //nn2/file1
 
###########################################
## [POS_71] CMD 61 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls //default/nn2/file1 
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /nn2/file1
[exec - POS test] [Pass] [POS_71] Cmd 61 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls //default/nn2/file1
 
###########################################
## [POS_72] CMD 62 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs://default/nn2/file1 
ls: null
[exec - POS test] [FAIL] [POS_72] Cmd 62 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs://default/nn2/file1
 
###########################################
## [POS_73] CMD 63 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls viewfs://default/nn2/dir1 
Found 1 items
-rw-------   3 hadoopqa hdfs         000.00.00.000 00:00 /nn2/dir1/file2.
[exec - POS test] [Pass] [POS_73] Cmd 63 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls viewfs://default/nn2/dir1
 
###########################################
## [POS_74] CMD 64 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls //qatest/nn4/file1 
ls: Cannot access //qatest/nn4/file1: No such file or directory.
[exec - POS test] [FAIL] [POS_74] Cmd 64 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls //qatest/nn4/file1
 
###########################################
## [POS_75] CMD 65 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs://qatest/nn4/dir1 
ls: null
[exec - POS test] [FAIL] [POS_75] Cmd 65 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls hdfs://qatest/nn4/dir1
 
###########################################
## [POS_76] CMD 66 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls viewfs://qatest/nn4/dir1 
Found 1 items
-rw-------   3 hadoopqa hdfs         000.00.00.000 00:00 /nn4/dir1/file2
[exec - POS test] [Pass] [POS_76] Cmd 66 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls viewfs://qatest/nn4/dir1
 
###########################################
## [POS_77] CMD 67 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls /nn4/dir1 
ls: Cannot access /nn4/dir1: No such file or directory.
[exec - POS test] [FAIL] [POS_77] Cmd 67 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -ls /nn4/dir1
 
###########################################
## [POS_81] CMD 68 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls /tmp/nn2.mt/file1  
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /tmp/nn2.mt/file1
[exec - POS test] [Pass] [POS_81] Cmd 68 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls /tmp/nn2.mt/file1 
 
###########################################
## [POS_82] CMD 69 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls ///tmp/nn2.mt/file1 
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /tmp/nn2.mt/file1
[exec - POS test] [Pass] [POS_82] Cmd 69 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls ///tmp/nn2.mt/file1
 
###########################################
## [POS_83] CMD 70 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls //gsbl00000.blue.ygrid/tmp/nn2.mt/file1 
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /tmp/nn2.mt/file1
[exec - POS test] [Pass] [POS_83] Cmd 70 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls //gsbl00000.blue.ygrid/tmp/nn2.mt/file1
 
###########################################
## [POS_84] CMD 71 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls hdfs:/tmp/nn2.mt/file1 
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /tmp/nn2.mt/file1
[exec - POS test] [Pass] [POS_84] Cmd 71 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls hdfs:/tmp/nn2.mt/file1
 
###########################################
## [POS_85] CMD 72 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls hdfs:///tmp/nn2.mt/file1  
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /tmp/nn2.mt/file1
[exec - POS test] [Pass] [POS_85] Cmd 72 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls hdfs:///tmp/nn2.mt/file1 
 
###########################################
## [POS_86] CMD 73 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls hdfs://gsbl00000.blue.ygrid/tmp/nn2.mt/file1  
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /tmp/nn2.mt/file1
[exec - POS test] [Pass] [POS_86] Cmd 73 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls hdfs://gsbl00000.blue.ygrid/tmp/nn2.mt/file1 
 
###########################################
## [NEG_87] CMD 74 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls viewfs:/tmp/nn2.mt/file1 
ls: Cannot access viewfs:/tmp/nn2.mt/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_87] Cmd 74 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls viewfs:/tmp/nn2.mt/file1
 
###########################################
## [NEG_88] CMD 75 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls viewfs:///tmp/nn2.mt/file1 
ls: Cannot access viewfs:///tmp/nn2.mt/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_88] Cmd 75 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls viewfs:///tmp/nn2.mt/file1
 
###########################################
## [NEG_89] CMD 76 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls viewfs://gsbl00000.blue.ygrid/tmp/nn2.mt/file1 
ls: ViewFs: Cannot initialize: Empty Mount table in config
[exec - NEG test] [Pass] [NEG_89] Cmd 76 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls viewfs://gsbl00000.blue.ygrid/tmp/nn2.mt/file1
 
###########################################
## [NEG_90] CMD 77 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls //tmp/nn2.mt/file1 
ls: Cannot access //tmp/nn2.mt/file1: No such file or directory.
[exec - NEG test] [Pass] [NEG_90] Cmd 77 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls //tmp/nn2.mt/file1
 
###########################################
## [POS_91] CMD 78 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls //default/tmp/nn2.mt/file1 
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /tmp/nn2.mt/file1
[exec - POS test] [Pass] [POS_91] Cmd 78 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls //default/tmp/nn2.mt/file1
 
###########################################
## [POS_92] CMD 79 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls hdfs://default/tmp/nn2.mt/file1 
ls: null
[exec - POS test] [FAIL] [POS_92] Cmd 79 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls hdfs://default/tmp/nn2.mt/file1
 
###########################################
## [POS_93] CMD 80 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls viewfs://default/tmp/nn2.mt/dir1 
ls: Cannot access viewfs://default/tmp/nn2.mt/dir1: No such file or directory.
[exec - POS test] [FAIL] [POS_93] Cmd 80 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls viewfs://default/tmp/nn2.mt/dir1
 
###########################################
## [POS_94] CMD 81 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls //qatest/tmp/nn4.mt/file1 
Found 1 items
-rw-------   3 hadoopqa hdfs        000.00.00.000 00:00 /tmp/nn4.mt/file1
[exec - POS test] [Pass] [POS_94] Cmd 81 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls //qatest/tmp/nn4.mt/file1
 
###########################################
## [POS_95] CMD 82 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls hdfs://qatest/tmp/nn4.mt/dir1 
ls: null
[exec - POS test] [FAIL] [POS_95] Cmd 82 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls hdfs://qatest/tmp/nn4.mt/dir1
 
###########################################
## [POS_96] CMD 83 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls viewfs://qatest/tmp/nn4.mt/dir1 
ls: Cannot access viewfs://qatest/tmp/nn4.mt/dir1: No such file or directory.
[exec - POS test] [FAIL] [POS_96] Cmd 83 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls viewfs://qatest/tmp/nn4.mt/dir1
 
###########################################
## [POS_97] CMD 84 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls /nn4.mt/dir1 
ls: Cannot access /nn4.mt/dir1: No such file or directory.
[exec - POS test] [FAIL] [POS_97] Cmd 84 is:  hadoop  --config v20_viewfs_hadoopconf_omegab/ dfs -conf my-hdfs-scheme-only.xml -ls /nn4.mt/dir1
 
Test Summary: 84 Tests. 74 Pass. 10 FAIL.

Run on Thu Dec 23 07:16:04 UTC 2010 gwbl2003.blue.ygrid.yahoo.com by cwchung
## Config used in this test: 
v22_hdfs_hadoopconf-omegab/core-site.xml:    <name>fs.default.name</name>
v22_hdfs_hadoopconf-omegab/core-site.xml-    <!-- cluster variant -->
v22_hdfs_hadoopconf-omegab/core-site.xml-    <value>hdfs://gsbl90772.blue.ygrid.yahoo.com:8020</value>
v22_hdfs_hadoopconf-omegab/core-site.xml-    <!-- value>viewfs:///</value -->
--
v22_viewfs_hadoopconf-omegab/core-site.xml:    <name>fs.default.name</name>
v22_viewfs_hadoopconf-omegab/core-site.xml-    <!-- cluster variant -->
v22_viewfs_hadoopconf-omegab/core-site.xml-    <!-- value>hdfs://gsbl90772.blue.ygrid.yahoo.com:8020</value -->
v22_viewfs_hadoopconf-omegab/core-site.xml-    <value>viewfs:///</value>
