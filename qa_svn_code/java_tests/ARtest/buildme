# need to have the source file
# tested for AR, which is a prod environment, as opposed blue/flubber environment
if [ $# != 1 ]; then
  echo "Error: need the source file"
  echo "Usage: buildme  <SOURCE>" 
  exit
fi

# make sure we start clean
rm -rf out
mkdir out

# compile
javac -Xlint:deprecation  -cp  .:`hadoop   classpath` -d out $1.java
if [ $? -ne 0 ];then
  echo "Error: Compile failed"
  exit 1
fi

# jar it up
jar -cvf  $1.jar  -C out .
if [ $? -ne 0 ];then
  echo "Error: Jar create failed"
  exit 1
fi

echo "Completed successfully"

