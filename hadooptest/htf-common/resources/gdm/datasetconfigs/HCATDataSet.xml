<?xml version="1.0" encoding="UTF-8"?>
<DataSet catalog="gdm-catalog" description="gdm-test-HCAT"
	name='NEW_DATA_SET_NAME' xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="dataset.xsd">
	<Active>FALSE</Active>
	<VerificationInstance />
	<Priority>HIGHEST</Priority>
	<Contact consumer="gdm-dev@yahoo-inc.com" owner="gdm-dev@yahoo-inc.com"
		publisher="gdm-dev@yahoo-inc.com" />
	<Comments>GDM automated test for testing DSD dataset</Comments>
	<!-- <UGI group="users" permission="755" />  -->
    <UGI group="GROUP_NAME" owner="DATA_OWNER" permission="755"/>
    <RunAsOwner>FACETS</RunAsOwner>
	<Frequency>daily</Frequency>
	<DiscoveryFrequency>100</DiscoveryFrequency>
	<DiscoveryInterface>FDI</DiscoveryInterface>
<Paths>
        <Path
            location="/data/daqdev/data/${DataSetName}/%{date}" type="data"/>
        <Path
            location="/data/daqdev/count/${DataSetName}/%{date}" type="count"/>
        <Path
            location="/data/daqdev/schema/${DataSetName}/%{date}" type="schema"/>
    </Paths>
	<Parameters>
		<attribute value='FEED_NAME' name='feed'></attribute>
		<attribute name="frequency" value="daily" />
		<attribute name="bucket" value="0-998" />
		<attribute name="statsfeed" value='FEED_STATS' />
		<attribute name="instancepattern" value="yyyyMMdd" />
		<attribute name="retentionPeriod" value="390" />
	</Parameters>
	<DataDefinition>
		<StaticSchemaPath />
		<RecordDelimiter />
		<FieldDelimiter />
		<InputFormat>Text</InputFormat>
		<OutputFormat>Sequence</OutputFormat>
		<SkipCommentsInData>false</SkipCommentsInData>
		<SortKey>mrkt_sid</SortKey>
		<PartitionKey />
		<DataPathMask>$9/$8/$7/$6/$5/$4/$3/$2/$datestamp/$1</DataPathMask>
		<AddFields>datestamp=$datestamp</AddFields>
		<RemoveFields />
		<SelectRecords />
	</DataDefinition>
	<WorkflowStrategy>
		<LoadStrategy>Default</LoadStrategy>
		<RetryCount>0</RetryCount>
		<SkipDataCommit>false</SkipDataCommit>
		<SkipVerify>false</SkipVerify>
		<NoOfParts>1</NoOfParts>
		<PartsPerPartition>4</PartsPerPartition>
	</WorkflowStrategy>
	<Sources>
		<Source name='FDI_SERVER_NAME' latency='720' />
	</Sources>
	<DataFlow />
	<Targets>
		<Target latency="1440" name='TARGET1' status="active">
			<DateRange end="20220131" start="20120125" />
			<HCatTargetType>HCAT_TYPE</HCatTargetType>
			<Policies>
				<Policy condition="numberOfInstances(instancelist, instance) > 10"
					type="retention" />
			</Policies>
			<Resource capacity="10" name="bandwidth" />
		</Target>
		<Target latency="1440" name='TARGET2' status="active">
			<DateRange end="20220131" start="20120125" />
			 <HCatTargetType>HCAT_TYPE</HCatTargetType>
			<Policies>
				<Policy condition="numberOfInstances(instancelist, instance) > 10"
					type="retention" />
			</Policies>
			<Resource capacity="10" name="bandwidth" />
		</Target>
	</Targets>
	<HCat>
    	<HCatDatabaseName>DATABASE_NAME</HCatDatabaseName>
		<HCatInstanceKey>instancedate</HCatInstanceKey>
		<HCatSchemaFile>schema.dat</HCatSchemaFile>
		<HCatSchemaFormat>ULT</HCatSchemaFormat>
		<HCatSchemaLocked>FALSE</HCatSchemaLocked>
		<HCatTableName>TABLE_NAME</HCatTableName>
	</HCat>
</DataSet>