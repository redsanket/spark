<?xml version="1.0"?>

<configuration>
  <property>
    <name>yarn.resourcemanager.scheduler.monitor.enable</name>
    <value>true</value>
  </property>
  <property>
    <name>yarn.resourcemanager.scheduler.monitor.policies</name>
    <value>org.apache.hadoop.yarn.server.resourcemanager.monitor.capacity.ProportionalCapacityPreemptionPolicy</value>
  </property>
  <property>
    <name>yarn.resourcemanager.monitor.capacity.preemption.monitoring_interval</name>
    <value>3000</value>
  </property>
  <property>
    <name>yarn.resourcemanager.monitor.capacity.preemption.max_wait_before_kill</name>
    <value>3000</value>
  </property>
  <property>
    <name>yarn.resourcemanager.monitor.capacity.preemption.total_preemption_per_round</name>
    <value>20</value>
  </property>
  
  <property>
    <name>yarn.scheduler.minimum-allocation-mb</name>
    <value>1024</value>
  </property>

  <property>
    <name>yarn.scheduler.capacity.maximum-am-resource-percent</name>
    <value>0.1</value>
  </property>

  <property>
    <name>yarn.scheduler.capacity.maximum-applications</name>
    <value>20</value>
  </property>

  <property>
    <name>yarn.scheduler.capacity.root.maximum-capacity</name>
    <value>100</value>
  </property>

  <property>
    <name>yarn.scheduler.capacity.root.capacity</name>
    <value>100</value>
  </property>

  <property>
    <name>yarn.scheduler.capacity.root.queues</name>
    <value>a,b,c</value>
  </property>

<!-- queue a -->
  <property>
    <name>yarn.scheduler.capacity.root.a.capacity</name>
    <value>50</value>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.a.maximum-capacity</name>
    <value>100</value>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.a.user-limit-factor</name>
    <value>5</value>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.a.minimum-user-limit-percent</name>
    <value>25</value>
  </property>
  <property>
     <name>yarn.scheduler.capacity.root.a.queues</name>
     <value>a1,a2</value>
  </property>
  
<!-- queue a1 -->
   <property>
     <name>yarn.scheduler.capacity.root.a.a1.capacity</name>
     <value>60</value>
   </property>
   <property>
     <name>yarn.scheduler.capacity.root.a.a1.maximum-capacity</name>
     <value>100</value>
   </property>
   <property>
     <name>yarn.scheduler.capacity.root.a.a1.minimum-user-limit-percent</name>
     <value>25</value>
   </property>
   <property>
     <name>yarn.scheduler.capacity.root.a.a1.user-limit-factor</name>
     <value>5</value>
   </property>
   <property>
     <name>yarn.scheduler.capacity.root.a.a1.disable_preemption</name>
     <value>true</value>
   </property>
   
<!-- queue a2 -->
   <property>
     <name>yarn.scheduler.capacity.root.a.a2.capacity</name>
     <value>40</value>
   </property>
   <property>
     <name>yarn.scheduler.capacity.root.a.a2.maximum-capacity</name>
     <value>100</value>
   </property>
  <property>
    <name>yarn.scheduler.capacity.root.a.a2.minimum-user-limit-percent</name>
    <value>25</value>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.a.a2.user-limit-factor</name>
    <value>1</value>
  </property>


<!-- queue b -->
  <property>
    <name>yarn.scheduler.capacity.root.b.capacity</name>
    <value>25</value>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.b.maximum-capacity</name>
    <value>100</value>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.b.user-limit-factor</name>
    <value>5</value>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.b.minimum-user-limit-percent</name>
    <value>25</value>
  </property>
  <property>
     <name>yarn.scheduler.capacity.root.b.queues</name>
     <value>b1,b2</value>
  </property>
  
<!-- queue b1 -->
   <property>
     <name>yarn.scheduler.capacity.root.b.b1.capacity</name>
     <value>70</value>
   </property>
   <property>
     <name>yarn.scheduler.capacity.root.b.b1.maximum-capacity</name>
     <value>100</value>
   </property>
   <property>
     <name>yarn.scheduler.capacity.root.b.b1.minimum-user-limit-percent</name>
     <value>25</value>
   </property>
   <property>
     <name>yarn.scheduler.capacity.root.b.b1.user-limit-factor</name>
     <value>10</value>
   </property>
   
<!-- queue b2 -->
   <property>
     <name>yarn.scheduler.capacity.root.b.b2.capacity</name>
     <value>30</value>
   </property>
   <property>
     <name>yarn.scheduler.capacity.root.b.b2.maximum-capacity</name>
     <value>100</value>
   </property>
  <property>
    <name>yarn.scheduler.capacity.root.b.b2.minimum-user-limit-percent</name>
    <value>25</value>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.b.b2.user-limit-factor</name>
    <value>5</value>
  </property>
  
<!-- queue c -->
  <property>
    <name>yarn.scheduler.capacity.root.c.capacity</name>
    <value>25</value>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.c.maximum-capacity</name>
    <value>100</value>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.c.user-limit-factor</name>
    <value>5</value>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.c.minimum-user-limit-percent</name>
    <value>25</value>
  </property>
  <property>
     <name>yarn.scheduler.capacity.root.c.queues</name>
     <value>c1,c2</value>
  </property>
  
<!-- queue c1 -->
   <property>
     <name>yarn.scheduler.capacity.root.c.c1.capacity</name>
     <value>20</value>
   </property>
   <property>
     <name>yarn.scheduler.capacity.root.c.c1.maximum-capacity</name>
     <value>100</value>
   </property>
   <property>
     <name>yarn.scheduler.capacity.root.c.c1.minimum-user-limit-percent</name>
     <value>25</value>
   </property>
   <property>
     <name>yarn.scheduler.capacity.root.c.c1.user-limit-factor</name>
     <value>5</value>
   </property>
   
<!-- queue c2 -->
   <property>
     <name>yarn.scheduler.capacity.root.c.c2.capacity</name>
     <value>80</value>
   </property>
   <property>
     <name>yarn.scheduler.capacity.root.c.c2.maximum-capacity</name>
     <value>100</value>
   </property>
  <property>
    <name>yarn.scheduler.capacity.root.c.c2.minimum-user-limit-percent</name>
    <value>25</value>
  </property>
  <property>
    <name>yarn.scheduler.capacity.root.c.c2.user-limit-factor</name>
    <value>5</value>
  </property>
  
</configuration>

